<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Fantasy Auction Assistant — Draft Board</title>
<style>
  :root { --pad: 10px; --gap: 12px; --radius: 10px; }
  * { box-sizing: border-box; }
  body { font-family: -apple-system, system-ui, Segoe UI, Roboto, Arial, sans-serif; margin: 0; color: #111; background: #f7f7f9; }
  header { padding: 18px var(--pad); background: #111; color: #fff; }
  header h1 { margin: 0; font-size: 20px; }
  main { padding: 18px var(--pad); max-width: 1200px; margin: 0 auto; }
  .grid { display: grid; grid-template-columns: 1fr; gap: var(--gap); }
  @media (min-width: 980px) { .grid-2 { grid-template-columns: 1fr 1.2fr; } }
  .card { background: #fff; border: 1px solid #e6e6ee; border-radius: var(--radius); padding: 16px; }
  .card h2 { margin: 0 0 10px 0; font-size: 16px; }
  .row { display: flex; flex-wrap: wrap; gap: 10px 14px; align-items: center; }
  label { font-size: 13px; color: #333; }
  input, select { padding: 8px; border-radius: 8px; border: 1px solid #cfd1d6; font-size: 14px; }
  input[type="number"] { width: 110px; }
  .kpi { display:grid; grid-template-columns: repeat(3,minmax(0,1fr)); gap:12px; margin-top:8px; }
  .kpi .tile { background:#fafafa; border:1px solid #eee; border-radius:10px; padding:12px; }
  .muted { color:#666; font-size:12px; }
  .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
  .right { text-align:right; }
  .table-wrap { overflow:auto; border:1px solid #e6e6ee; border-radius: var(--radius); }
  table { width:100%; border-collapse: collapse; font-size:13px; }
  th, td { padding: 9px 10px; border-bottom: 1px solid #f0f0f3; white-space: nowrap; }
  th { position: sticky; top: 0; background: #f5f6fa; z-index: 1; text-align: left; }
  tbody tr:hover { filter: brightness(0.98); }
  .pos-QB { background: #ffe5e5; }
  .pos-RB { background: #e6f0ff; }
  .pos-WR { background: #e8f7e8; }
  .pos-TE { background: #fff1e0; }
  .pos-DST { background: #f1f1f1; }
  .pos-K { background: #f1f1f1; }
  .badge { display:inline-block; padding:2px 8px; border-radius:999px; border:1px solid #ddd; font-size:12px; background:#fff; }
  .controls { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
  .footer { margin-top: 12px; font-size: 12px; color: #666; }
</style>
</head>
<body>
<header>
  <h1>Fantasy Auction Assistant — Draft Board</h1>
</header>

<main class="grid grid-2">
  <section class="card">
    <h2>League & Team</h2>
    <div class="row">
      <label>Teams <input id="teamsCount" type="number" min="2" value="12"></label>
      <label>Budget / Team <input id="budgetPerTeam" type="number" min="1" value="200"></label>
      <label>Your Team Name <input id="yourTeamName" type="text" value="You"></label>
      <label>Bench Slots <input id="benchSlots" type="number" min="0" value="6"></label>
    </div>
    <div class="kpi">
      <div class="tile"><div class="muted">Your Remaining Budget</div><div class="mono" id="yourRemaining">$0</div></div>
      <div class="tile"><div class="muted">Players on Your Team</div><div class="mono" id="yourPlayers">0</div></div>
      <div class="tile"><div class="muted">Your Max Bid</div><div class="mono" id="yourMaxBid">$0</div></div>
    </div>
    <div class="footer">Max Bid = Remaining Budget − $1 × (Open Slots − 1). Open Slots = total roster slots − players on your team. (Roster slots here = 1 QB, 2 RB, 3 WR, 1 TE, 1 FLEX, 1 DST, 1 K, plus Bench.)</div>
  </section>

  <section class="card">
    <h2>Filters</h2>
    <div class="controls">
      <label>Search <input id="search" type="text" placeholder="Search player..."></label>
      <label>Position
        <select id="filterPos">
          <option value="">All</option>
          <option>QB</option><option>RB</option><option>WR</option><option>TE</option><option>DST</option><option>K</option>
        </select>
      </label>
      <label>Tier
        <select id="filterTier">
          <option value="">All</option>
          <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option>
        </select>
      </label>
      <button id="clearFilters">Clear</button>
    </div>
  </section>

  <section class="card" style="grid-column:1 / -1;">
    <h2>Draft Board</h2>
    <div class="table-wrap">
      <table id="board">
        <thead>
          <tr>
            <th>Player Name</th>
            <th>Position</th>
            <th>Rank</th>
            <th>Tier</th>
            <th class="right">Recommended Auction Value</th>
            <th class="right">Actual Auction Value</th>
            <th>My Team?</th>
          </tr>
        </thead>
        <tbody id="boardBody"></tbody>
      </table>
    </div>
  </section>
</main>

<script>
const embedded = {players: [{"name": "Ja'Marr Chase", "pos": "WR", "rank": 1, "tier": "1", "base": 63.0, "actual": 0.0, "myTeam": false}, {"name": "Bijan Robinson", "pos": "RB", "rank": 2, "tier": "1", "base": 62.0, "actual": 0.0, "myTeam": false}, {"name": "Jahmyr Gibbs", "pos": "RB", "rank": 3, "tier": "1", "base": 61.0, "actual": 0.0, "myTeam": false}, {"name": "Saquon Barkley", "pos": "RB", "rank": 4, "tier": "1", "base": 57.0, "actual": 0.0, "myTeam": false}, {"name": "CeeDee Lamb", "pos": "WR", "rank": 5, "tier": "1", "base": 60.0, "actual": 0.0, "myTeam": false}, {"name": "Justin Jefferson", "pos": "WR", "rank": 6, "tier": "1", "base": 58.0, "actual": 0.0, "myTeam": false}, {"name": "Christian McCaffrey", "pos": "RB", "rank": 7, "tier": "1", "base": 51.0, "actual": 0.0, "myTeam": false}, {"name": "Nico Collins", "pos": "WR", "rank": 8, "tier": "2", "base": 49.0, "actual": 0.0, "myTeam": false}, {"name": "Puka Nacua", "pos": "WR", "rank": 9, "tier": "2", "base": 47.0, "actual": 0.0, "myTeam": false}, {"name": "Malik Nabers", "pos": "WR", "rank": 10, "tier": "2", "base": 45.0, "actual": 0.0, "myTeam": false}, {"name": "Drake London", "pos": "WR", "rank": 11, "tier": "2", "base": 44.0, "actual": 0.0, "myTeam": false}, {"name": "De'Von Achane", "pos": "RB", "rank": 12, "tier": "2", "base": 39.0, "actual": 0.0, "myTeam": false}, {"name": "Brian Thomas", "pos": "WR", "rank": 13, "tier": "2", "base": 42.0, "actual": 0.0, "myTeam": false}, {"name": "Amon-Ra St. Brown", "pos": "WR", "rank": 14, "tier": "2", "base": 41.0, "actual": 0.0, "myTeam": false}, {"name": "Derrick Henry", "pos": "RB", "rank": 15, "tier": "2", "base": 36.0, "actual": 0.0, "myTeam": false}, {"name": "Ashton Jeanty", "pos": "RB", "rank": 16, "tier": "3", "base": 33.0, "actual": 0.0, "myTeam": false}, {"name": "AJ Brown", "pos": "WR", "rank": 17, "tier": "3", "base": 36.0, "actual": 0.0, "myTeam": false}, {"name": "Brock Bowers", "pos": "TE", "rank": 18, "tier": "3", "base": 33.0, "actual": 0.0, "myTeam": false}, {"name": "Chase Brown", "pos": "RB", "rank": 19, "tier": "3", "base": 31.0, "actual": 0.0, "myTeam": false}, {"name": "Bucky Irving", "pos": "RB", "rank": 20, "tier": "4", "base": 31.0, "actual": 0.0, "myTeam": false}, {"name": "Ladd McConkey", "pos": "WR", "rank": 21, "tier": "4", "base": 33.0, "actual": 0.0, "myTeam": false}, {"name": "Jonathan Taylor", "pos": "RB", "rank": 22, "tier": "4", "base": 29.0, "actual": 0.0, "myTeam": false}, {"name": "Josh Jacobs", "pos": "RB", "rank": 23, "tier": "4", "base": 29.0, "actual": 0.0, "myTeam": false}, {"name": "Trey McBride", "pos": "TE", "rank": 24, "tier": "5", "base": 29.0, "actual": 0.0, "myTeam": false}, {"name": "Josh Allen", "pos": "QB", "rank": 25, "tier": "5", "base": 27.0, "actual": 0.0, "myTeam": false}, {"name": "Jaxon Smith-Njigba", "pos": "WR", "rank": 26, "tier": "6", "base": 29.0, "actual": 0.0, "myTeam": false}, {"name": "Omarion Hampton", "pos": "RB", "rank": 27, "tier": "6", "base": 26.0, "actual": 0.0, "myTeam": false}, {"name": "Tee Higgins", "pos": "WR", "rank": 28, "tier": "6", "base": 28.0, "actual": 0.0, "myTeam": false}, {"name": "Lamar Jackson", "pos": "QB", "rank": 29, "tier": "6", "base": 25.0, "actual": 0.0, "myTeam": false}, {"name": "Tyreek Hill", "pos": "WR", "rank": 30, "tier": "7", "base": 26.0, "actual": 0.0, "myTeam": false}, {"name": "Davante Adams", "pos": "WR", "rank": 31, "tier": "7", "base": 25.0, "actual": 0.0, "myTeam": false}, {"name": "Kyren Williams", "pos": "RB", "rank": 32, "tier": "7", "base": 23.0, "actual": 0.0, "myTeam": false}, {"name": "Kenneth Walker", "pos": "RB", "rank": 33, "tier": "7", "base": 23.0, "actual": 0.0, "myTeam": false}, {"name": "TreVeyon Henderson", "pos": "RB", "rank": 34, "tier": "7", "base": 22.0, "actual": 0.0, "myTeam": false}, {"name": "Jayden Daniels", "pos": "QB", "rank": 35, "tier": "7", "base": 22.0, "actual": 0.0, "myTeam": false}, {"name": "Jalen Hurts", "pos": "QB", "rank": 36, "tier": "7", "base": 22.0, "actual": 0.0, "myTeam": false}, {"name": "Alvin Kamara", "pos": "RB", "rank": 37, "tier": "7", "base": 21.0, "actual": 0.0, "myTeam": false}, {"name": "George Kittle", "pos": "TE", "rank": 38, "tier": "7", "base": 23.0, "actual": 0.0, "myTeam": false}, {"name": "Mike Evans", "pos": "WR", "rank": 39, "tier": "7", "base": 22.0, "actual": 0.0, "myTeam": false}, {"name": "James Cook", "pos": "RB", "rank": 40, "tier": "7", "base": 20.0, "actual": 0.0, "myTeam": false}, {"name": "Breece Hall", "pos": "RB", "rank": 41, "tier": "7", "base": 20.0, "actual": 0.0, "myTeam": false}, {"name": "Garrett Wilson", "pos": "WR", "rank": 42, "tier": "8", "base": 21.0, "actual": 0.0, "myTeam": false}, {"name": "Marvin Harrison", "pos": "WR", "rank": 43, "tier": "8", "base": 20.0, "actual": 0.0, "myTeam": false}, {"name": "Devonta Smith", "pos": "WR", "rank": 44, "tier": "8", "base": 20.0, "actual": 0.0, "myTeam": false}, {"name": "Tetairoa McMillan", "pos": "WR", "rank": 45, "tier": "8", "base": 20.0, "actual": 0.0, "myTeam": false}, {"name": "Jameson Williams", "pos": "WR", "rank": 46, "tier": "8", "base": 19.0, "actual": 0.0, "myTeam": false}, {"name": "George Pickens", "pos": "WR", "rank": 47, "tier": "8", "base": 19.0, "actual": 0.0, "myTeam": false}, {"name": "Calvin Ridley", "pos": "WR", "rank": 48, "tier": "8", "base": 19.0, "actual": 0.0, "myTeam": false}, {"name": "Emeka Egbuka", "pos": "WR", "rank": 49, "tier": "8", "base": 18.0, "actual": 0.0, "myTeam": false}, {"name": "James Conner", "pos": "RB", "rank": 50, "tier": "9", "base": 17.0, "actual": 0.0, "myTeam": false}, {"name": "DK Metcalf", "pos": "WR", "rank": 51, "tier": "9", "base": 18.0, "actual": 0.0, "myTeam": false}, {"name": "Xavier Worthy", "pos": "WR", "rank": 52, "tier": "9", "base": 18.0, "actual": 0.0, "myTeam": false}, {"name": "Terry McLaurin", "pos": "WR", "rank": 53, "tier": "9", "base": 17.0, "actual": 0.0, "myTeam": false}, {"name": "Chuba Hubbard", "pos": "RB", "rank": 54, "tier": "9", "base": 16.0, "actual": 0.0, "myTeam": false}, {"name": "RJ Harvey", "pos": "RB", "rank": 55, "tier": "9", "base": 16.0, "actual": 0.0, "myTeam": false}, {"name": "Travis Hunter", "pos": "WR", "rank": 56, "tier": "9", "base": 17.0, "actual": 0.0, "myTeam": false}, {"name": "Jaylen Waddle", "pos": "WR", "rank": 57, "tier": "9", "base": 16.0, "actual": 0.0, "myTeam": false}, {"name": "Courtland Sutton", "pos": "WR", "rank": 58, "tier": "9", "base": 16.0, "actual": 0.0, "myTeam": false}, {"name": "DJ Moore", "pos": "WR", "rank": 59, "tier": "9", "base": 16.0, "actual": 0.0, "myTeam": false}, {"name": "Tony Pollard", "pos": "RB", "rank": 60, "tier": "10", "base": 15.0, "actual": 0.0, "myTeam": false}, {"name": "Rashee Rice", "pos": "WR", "rank": 61, "tier": "10", "base": 15.0, "actual": 0.0, "myTeam": false}, {"name": "Joe Burrow", "pos": "QB", "rank": 62, "tier": "10", "base": 15.0, "actual": 0.0, "myTeam": false}, {"name": "Stefon Diggs", "pos": "WR", "rank": 63, "tier": "10", "base": 15.0, "actual": 0.0, "myTeam": false}, {"name": "Isiah Pacheco", "pos": "RB", "rank": 64, "tier": "10", "base": 14.0, "actual": 0.0, "myTeam": false}, {"name": "Zay Flowers", "pos": "WR", "rank": 65, "tier": "10", "base": 14.0, "actual": 0.0, "myTeam": false}, {"name": "Ricky Pearsall", "pos": "WR", "rank": 66, "tier": "10", "base": 14.0, "actual": 0.0, "myTeam": false}, {"name": "Rome Odunze", "pos": "WR", "rank": 67, "tier": "10", "base": 14.0, "actual": 0.0, "myTeam": false}, {"name": "Jakobi Meyers", "pos": "WR", "rank": 68, "tier": "10", "base": 14.0, "actual": 0.0, "myTeam": false}, {"name": "D'Andre Swift", "pos": "RB", "rank": 69, "tier": "11", "base": 13.0, "actual": 0.0, "myTeam": false}, {"name": "David Montgomery", "pos": "RB", "rank": 70, "tier": "11", "base": 13.0, "actual": 0.0, "myTeam": false}, {"name": "Chris Olave", "pos": "WR", "rank": 71, "tier": "11", "base": 13.0, "actual": 0.0, "myTeam": false}, {"name": "Aaron Jones", "pos": "RB", "rank": 72, "tier": "11", "base": 13.0, "actual": 0.0, "myTeam": false}, {"name": "Jerry Jeudy", "pos": "WR", "rank": 73, "tier": "11", "base": 13.0, "actual": 0.0, "myTeam": false}, {"name": "Jauan Jennings", "pos": "WR", "rank": 74, "tier": "11", "base": 13.0, "actual": 0.0, "myTeam": false}, {"name": "Matthew Golden", "pos": "WR", "rank": 75, "tier": "11", "base": 12.0, "actual": 0.0, "myTeam": false}, {"name": "Jordan Addison", "pos": "WR", "rank": 76, "tier": "12", "base": 12.0, "actual": 0.0, "myTeam": false}, {"name": "Sam LaPorta", "pos": "TE", "rank": 77, "tier": "12", "base": 15.0, "actual": 0.0, "myTeam": false}, {"name": "Deebo Samuel", "pos": "WR", "rank": 78, "tier": "12", "base": 12.0, "actual": 0.0, "myTeam": false}, {"name": "Jaylen Warren", "pos": "RB", "rank": 79, "tier": "13", "base": 12.0, "actual": 0.0, "myTeam": false}, {"name": "Tyrone Tracy", "pos": "RB", "rank": 80, "tier": "13", "base": 12.0, "actual": 0.0, "myTeam": false}, {"name": "Kaleb Johnson", "pos": "RB", "rank": 81, "tier": "13", "base": 11.0, "actual": 0.0, "myTeam": false}, {"name": "Khalil Shakir", "pos": "WR", "rank": 82, "tier": "13", "base": 11.0, "actual": 0.0, "myTeam": false}, {"name": "TJ Hockenson", "pos": "TE", "rank": 83, "tier": "13", "base": 14.0, "actual": 0.0, "myTeam": false}, {"name": "JK Dobbins", "pos": "RB", "rank": 84, "tier": "14", "base": 11.0, "actual": 0.0, "myTeam": false}, {"name": "Jayden Reed", "pos": "WR", "rank": 85, "tier": "14", "base": 11.0, "actual": 0.0, "myTeam": false}, {"name": "Keon Coleman", "pos": "WR", "rank": 86, "tier": "14", "base": 10.0, "actual": 0.0, "myTeam": false}, {"name": "Patrick Mahomes", "pos": "QB", "rank": 87, "tier": "15", "base": 11.0, "actual": 0.0, "myTeam": false}, {"name": "Justin Fields", "pos": "QB", "rank": 88, "tier": "15", "base": 11.0, "actual": 0.0, "myTeam": false}, {"name": "Kyler Murray", "pos": "QB", "rank": 89, "tier": "15", "base": 11.0, "actual": 0.0, "myTeam": false}, {"name": "Cooper Kupp", "pos": "WR", "rank": 90, "tier": "15", "base": 10.0, "actual": 0.0, "myTeam": false}, {"name": "Josh Downs", "pos": "WR", "rank": 91, "tier": "15", "base": 10.0, "actual": 0.0, "myTeam": false}, {"name": "Mark Andrews", "pos": "TE", "rank": 92, "tier": "15", "base": 10.0, "actual": 0.0, "myTeam": false}, {"name": "Drake Maye", "pos": "QB", "rank": 93, "tier": "15", "base": 10.0, "actual": 0.0, "myTeam": false}, {"name": "Bo Nix", "pos": "QB", "rank": 94, "tier": "15", "base": 10.0, "actual": 0.0, "myTeam": false}, {"name": "Caleb Williams", "pos": "QB", "rank": 95, "tier": "15", "base": 10.0, "actual": 0.0, "myTeam": false}, {"name": "Jordan Mason", "pos": "RB", "rank": 96, "tier": "16", "base": 9.0, "actual": 0.0, "myTeam": false}, {"name": "Brock Purdy", "pos": "QB", "rank": 97, "tier": "16", "base": 9.0, "actual": 0.0, "myTeam": false}, {"name": "Dak Prescott", "pos": "QB", "rank": 98, "tier": "16", "base": 9.0, "actual": 0.0, "myTeam": false}, {"name": "Baker Mayfield", "pos": "QB", "rank": 99, "tier": "16", "base": 9.0, "actual": 0.0, "myTeam": false}, {"name": "Rashid Shaheed", "pos": "WR", "rank": 100, "tier": "16", "base": 8.0, "actual": 0.0, "myTeam": false}, {"name": "Chris Godwin", "pos": "WR", "rank": 101, "tier": "16", "base": 8.0, "actual": 0.0, "myTeam": false}, {"name": "Michael Pittman", "pos": "WR", "rank": 102, "tier": "16", "base": 8.0, "actual": 0.0, "myTeam": false}, {"name": "Christian Kirk", "pos": "WR", "rank": 103, "tier": "16", "base": 8.0, "actual": 0.0, "myTeam": false}, {"name": "Justin Herbert", "pos": "QB", "rank": 104, "tier": "16", "base": 9.0, "actual": 0.0, "myTeam": false}, {"name": "Evan Engram", "pos": "TE", "rank": 105, "tier": "16", "base": 8.0, "actual": 0.0, "myTeam": false}, {"name": "Darnell Mooney", "pos": "WR", "rank": 106, "tier": "16", "base": 7.0, "actual": 0.0, "myTeam": false}, {"name": "Travis Kelce", "pos": "TE", "rank": 107, "tier": "16", "base": 8.0, "actual": 0.0, "myTeam": false}, {"name": "Travis Etienne", "pos": "RB", "rank": 108, "tier": "16", "base": 8.0, "actual": 0.0, "myTeam": false}, {"name": "Zach Charbonnet", "pos": "RB", "rank": 109, "tier": "17", "base": 8.0, "actual": 0.0, "myTeam": false}, {"name": "Cam Skattebo", "pos": "RB", "rank": 110, "tier": "17", "base": 8.0, "actual": 0.0, "myTeam": false}, {"name": "Luther Burden", "pos": "WR", "rank": 111, "tier": "17", "base": 7.0, "actual": 0.0, "myTeam": false}, {"name": "Tucker Kraft", "pos": "TE", "rank": 112, "tier": "17", "base": 8.0, "actual": 0.0, "myTeam": false}, {"name": "Jayden Higgins", "pos": "WR", "rank": 113, "tier": "17", "base": 6.0, "actual": 0.0, "myTeam": false}, {"name": "David Njoku", "pos": "TE", "rank": 114, "tier": "17", "base": 7.0, "actual": 0.0, "myTeam": false}, {"name": "Tyler Warren", "pos": "TE", "rank": 115, "tier": "17", "base": 7.0, "actual": 0.0, "myTeam": false}, {"name": "Trevor Lawrence", "pos": "QB", "rank": 116, "tier": "18", "base": 7.0, "actual": 0.0, "myTeam": false}, {"name": "Jacory Croskey-Merritt", "pos": "RB", "rank": 117, "tier": "18", "base": 7.0, "actual": 0.0, "myTeam": false}, {"name": "Keenan Allen", "pos": "WR", "rank": 118, "tier": "18", "base": 6.0, "actual": 0.0, "myTeam": false}, {"name": "Tank Bigsby", "pos": "RB", "rank": 119, "tier": "18", "base": 7.0, "actual": 0.0, "myTeam": false}, {"name": "Brandon Aiyuk", "pos": "WR", "rank": 120, "tier": "18", "base": 6.0, "actual": 0.0, "myTeam": false}, {"name": "Bhayshul Tuten", "pos": "RB", "rank": 121, "tier": "18", "base": 7.0, "actual": 0.0, "myTeam": false}, {"name": "Jaydon Blue", "pos": "RB", "rank": 122, "tier": "18", "base": 6.0, "actual": 0.0, "myTeam": false}, {"name": "Jordan Love", "pos": "QB", "rank": 123, "tier": "18", "base": 7.0, "actual": 0.0, "myTeam": false}, {"name": "Colston Loveland", "pos": "TE", "rank": 124, "tier": "18", "base": 6.0, "actual": 0.0, "myTeam": false}, {"name": "Austin Ekeler", "pos": "RB", "rank": 125, "tier": "19", "base": 6.0, "actual": 0.0, "myTeam": false}, {"name": "Javonte Williams", "pos": "RB", "rank": 126, "tier": "19", "base": 6.0, "actual": 0.0, "myTeam": false}, {"name": "Rhamondre Stevenson", "pos": "RB", "rank": 127, "tier": "19", "base": 6.0, "actual": 0.0, "myTeam": false}, {"name": "Marvin Mims", "pos": "WR", "rank": 128, "tier": "19", "base": 5.0, "actual": 0.0, "myTeam": false}, {"name": "Dallas Goedert", "pos": "TE", "rank": 129, "tier": "19", "base": 6.0, "actual": 0.0, "myTeam": false}, {"name": "Braelon Allen", "pos": "RB", "rank": 130, "tier": "19", "base": 6.0, "actual": 0.0, "myTeam": false}, {"name": "Ray Davis", "pos": "RB", "rank": 131, "tier": "20", "base": 6.0, "actual": 0.0, "myTeam": false}, {"name": "Tyjae Spears", "pos": "RB", "rank": 132, "tier": "20", "base": 5.0, "actual": 0.0, "myTeam": false}, {"name": "Woody Marks", "pos": "RB", "rank": 133, "tier": "20", "base": 5.0, "actual": 0.0, "myTeam": false}, {"name": "Nick Chubb", "pos": "RB", "rank": 134, "tier": "20", "base": 5.0, "actual": 0.0, "myTeam": false}, {"name": "JJ McCarthy", "pos": "QB", "rank": 135, "tier": "20", "base": 4.0, "actual": 0.0, "myTeam": false}, {"name": "Dalton Kincaid", "pos": "TE", "rank": 136, "tier": "20", "base": 5.0, "actual": 0.0, "myTeam": false}, {"name": "Demario Douglas", "pos": "WR", "rank": 137, "tier": "20", "base": 4.0, "actual": 0.0, "myTeam": false}, {"name": "Trey Benson", "pos": "RB", "rank": 138, "tier": "20", "base": 5.0, "actual": 0.0, "myTeam": false}, {"name": "Jared Goff", "pos": "QB", "rank": 139, "tier": "20", "base": 4.0, "actual": 0.0, "myTeam": false}, {"name": "Jake Ferguson", "pos": "TE", "rank": 140, "tier": "20", "base": 5.0, "actual": 0.0, "myTeam": false}, {"name": "Cedric Tillman", "pos": "WR", "rank": 141, "tier": "20", "base": 3.0, "actual": 0.0, "myTeam": false}, {"name": "Kyle Pitts", "pos": "TE", "rank": 142, "tier": "20", "base": 3.0, "actual": 0.0, "myTeam": false}, {"name": "CJ Stroud", "pos": "QB", "rank": 143, "tier": "20", "base": 4.0, "actual": 0.0, "myTeam": false}, {"name": "Josh Palmer", "pos": "WR", "rank": 144, "tier": "21", "base": 2.0, "actual": 0.0, "myTeam": false}, {"name": "Rico Dowdle", "pos": "RB", "rank": 145, "tier": "21", "base": 3.0, "actual": 0.0, "myTeam": false}, {"name": "Tre Harris", "pos": "WR", "rank": 146, "tier": "21", "base": 2.0, "actual": 0.0, "myTeam": false}, {"name": "Hollywood Brown", "pos": "WR", "rank": 147, "tier": "21", "base": 2.0, "actual": 0.0, "myTeam": false}, {"name": "Dylan Sampson", "pos": "RB", "rank": 148, "tier": "21", "base": 3.0, "actual": 0.0, "myTeam": false}, {"name": "Pat Bryant", "pos": "WR", "rank": 149, "tier": "21", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Rashod Bateman", "pos": "WR", "rank": 150, "tier": "21", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Romeo Doubs", "pos": "WR", "rank": 151, "tier": "21", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Isaac Guerendo", "pos": "RB", "rank": 152, "tier": "21", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Chig Okonkwo", "pos": "TE", "rank": 153, "tier": "22", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Jerome Ford", "pos": "RB", "rank": 154, "tier": "22", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Adam Thielen", "pos": "WR", "rank": 155, "tier": "22", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Kyle Williams", "pos": "WR", "rank": 156, "tier": "22", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Rachaad White", "pos": "RB", "rank": 157, "tier": "22", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Bryce Young", "pos": "QB", "rank": 158, "tier": "22", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Brian Robinson", "pos": "RB", "rank": 159, "tier": "22", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Brenton Strange", "pos": "TE", "rank": 160, "tier": "22", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Michael Penix", "pos": "QB", "rank": 161, "tier": "22", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Hunter Henry", "pos": "TE", "rank": 162, "tier": "22", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Zach Ertz", "pos": "TE", "rank": 163, "tier": "22", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Wan'Dale Robinson", "pos": "WR", "rank": 164, "tier": "23", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Quinshon Judkins", "pos": "RB", "rank": 165, "tier": "23", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Joe Mixon", "pos": "RB", "rank": 166, "tier": "23", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Tyler Allgeier", "pos": "RB", "rank": 167, "tier": "23", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Mason Taylor", "pos": "TE", "rank": 168, "tier": "23", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Tua Tagovailoa", "pos": "QB", "rank": 169, "tier": "23", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Cam Ward", "pos": "QB", "rank": 170, "tier": "23", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Geno Smith", "pos": "QB", "rank": 171, "tier": "23", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Xavier Legette", "pos": "WR", "rank": 172, "tier": "23", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Jalen Coker", "pos": "WR", "rank": 173, "tier": "23", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Sean Tucker", "pos": "RB", "rank": 174, "tier": "23", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Kyle Monangai", "pos": "RB", "rank": 175, "tier": "23", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Adonai Mitchell", "pos": "WR", "rank": 176, "tier": "23", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Najee Harris", "pos": "RB", "rank": 177, "tier": "24", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Tory Horton", "pos": "WR", "rank": 178, "tier": "24", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Chris Rodriguez", "pos": "RB", "rank": 179, "tier": "24", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Ollie Gordon", "pos": "RB", "rank": 180, "tier": "24", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Justice Hill", "pos": "RB", "rank": 181, "tier": "24", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Jaylen Wright", "pos": "RB", "rank": 182, "tier": "24", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Dont'e Thornton", "pos": "WR", "rank": 183, "tier": "24", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Roschon Johnson", "pos": "RB", "rank": 184, "tier": "24", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Aaron Rodgers", "pos": "QB", "rank": 185, "tier": "25", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Elijah Arroyo", "pos": "TE", "rank": 186, "tier": "25", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Jack Bech", "pos": "WR", "rank": 187, "tier": "25", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Jalen Royals", "pos": "WR", "rank": 188, "tier": "25", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Troy Franklin", "pos": "WR", "rank": 189, "tier": "25", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Jonnu Smith", "pos": "TE", "rank": 190, "tier": "25", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Tahj Brooks", "pos": "RB", "rank": 191, "tier": "25", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Matthew Stafford", "pos": "QB", "rank": 192, "tier": "26", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "DeAndre Hopkins", "pos": "WR", "rank": 193, "tier": "26", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Isaiah Likely", "pos": "TE", "rank": 194, "tier": "26", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Isaac TeSlaa", "pos": "WR", "rank": 195, "tier": "26", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Pat Freiermuth", "pos": "TE", "rank": 196, "tier": "26", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Theo Johnson", "pos": "TE", "rank": 197, "tier": "26", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Brashard Smith", "pos": "RB", "rank": 198, "tier": "26", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Jarquez Hunter", "pos": "RB", "rank": 199, "tier": "26", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Dyami Brown", "pos": "WR", "rank": 200, "tier": "26", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Jaylin Noel", "pos": "WR", "rank": 201, "tier": "26", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "DJ Giddens", "pos": "RB", "rank": 202, "tier": "27", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Alec Pierce", "pos": "WR", "rank": 203, "tier": "27", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Olamide Zaccheaus", "pos": "WR", "rank": 204, "tier": "27", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Mike Gesicki", "pos": "TE", "rank": 205, "tier": "27", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Ja'Tavion Sanders", "pos": "TE", "rank": 206, "tier": "27", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Will Shipley", "pos": "RB", "rank": 207, "tier": "27", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "KeAndre Lambert-Smith", "pos": "WR", "rank": 208, "tier": "27", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Keaton Mitchell", "pos": "RB", "rank": 209, "tier": "27", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Roman Wilson", "pos": "WR", "rank": 210, "tier": "27", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Kareem Hunt", "pos": "RB", "rank": 211, "tier": "28", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Juwan Johnson", "pos": "TE", "rank": 212, "tier": "28", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Elic Ayomanor", "pos": "WR", "rank": 213, "tier": "28", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Cade Otton", "pos": "TE", "rank": 214, "tier": "28", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Darius Slayton", "pos": "WR", "rank": 215, "tier": "28", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Malik Washington", "pos": "WR", "rank": 216, "tier": "28", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Oronde Gadsden", "pos": "TE", "rank": 217, "tier": "29", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Diontae Johnson", "pos": "WR", "rank": 218, "tier": "29", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Blake Corum", "pos": "RB", "rank": 219, "tier": "29", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Dontayvion Wicks", "pos": "WR", "rank": 220, "tier": "29", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Jaleel McLaughlin", "pos": "RB", "rank": 221, "tier": "29", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Tyler Lockett", "pos": "WR", "rank": 222, "tier": "29", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Calvin Austin", "pos": "WR", "rank": 223, "tier": "29", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Andrei Iosivas", "pos": "WR", "rank": 224, "tier": "29", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Miles Sanders", "pos": "RB", "rank": 225, "tier": "30", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Elijah Mitchell", "pos": "RB", "rank": 226, "tier": "30", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Tyler Higbee", "pos": "TE", "rank": 227, "tier": "30", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Amari Cooper", "pos": "WR", "rank": 228, "tier": "30", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Dalton Schultz", "pos": "TE", "rank": 229, "tier": "30", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Sam Darnold", "pos": "QB", "rank": 230, "tier": "30", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Jordan Whittington", "pos": "WR", "rank": 231, "tier": "30", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Kendre Miller", "pos": "RB", "rank": 232, "tier": "30", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Harold Fannin", "pos": "TE", "rank": 233, "tier": "30", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Russell Wilson", "pos": "QB", "rank": 234, "tier": "31", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Emanuel Wilson", "pos": "RB", "rank": 235, "tier": "31", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Joe Flacco", "pos": "QB", "rank": 236, "tier": "31", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Michael Wilson", "pos": "WR", "rank": 237, "tier": "31", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Darren Waller", "pos": "TE", "rank": 238, "tier": "31", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Raheem Mostert", "pos": "RB", "rank": 239, "tier": "31", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Jaxson Dart", "pos": "QB", "rank": 240, "tier": "32", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Trevor Etienne", "pos": "RB", "rank": 241, "tier": "32", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Noah Gray", "pos": "TE", "rank": 242, "tier": "32", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Quentin Johnston", "pos": "WR", "rank": 243, "tier": "32", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Elijah Moore", "pos": "WR", "rank": 244, "tier": "32", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Tutu Atwell", "pos": "WR", "rank": 245, "tier": "32", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Isaiah Davis", "pos": "RB", "rank": 246, "tier": "32", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Devaughn Vele", "pos": "WR", "rank": 247, "tier": "32", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Jalen Nailor", "pos": "WR", "rank": 248, "tier": "32", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Jalen Tolbert", "pos": "WR", "rank": 249, "tier": "33", "base": 1.0, "actual": 0.0, "myTeam": false}, {"name": "Tre Tucker", "pos": "WR", "rank": 250, "tier": "33", "base": 1.0, "actual": 0.0, "myTeam": false}]};

const state = {
  settings: {
    teamsCount: 12,
    budgetPerTeam: 200,
    yourTeamName: "You",
    benchSlots: 6,
    slots: { QB:1, RB:2, WR:3, TE:1, FLEX:1, DST:1, K:1 }
  },
  players: []
};

const LS_KEY = "ffa_draft_board_v1";

function save(){ localStorage.setItem(LS_KEY, JSON.stringify(state)); }
function load(){
  const raw = localStorage.getItem(LS_KEY);
  if (!raw) return false;
  try { Object.assign(state, JSON.parse(raw)); return true; } catch(e){ return false; }
}

function dollars(x){ if (!isFinite(x)) return "$0"; return "$" + Math.round(x); }

function totalSlotsPerTeam(){
  const s = state.settings.slots, bench = Number(state.settings.benchSlots)||0;
  return s.QB + s.RB + s.WR + s.TE + s.FLEX + s.DST + s.K + bench;
}

function computeKPIs(){
  const spent = state.players.reduce((sum,p)=> sum + (p.myTeam ? (Number(p.actual)||0) : 0), 0);
  const remaining = (Number(state.settings.budgetPerTeam)||200) - spent;
  const yourCount = state.players.filter(p=>p.myTeam).length;
  const openSlots = Math.max(0, totalSlotsPerTeam() - yourCount);
  const maxBid = Math.max(0, remaining - Math.max(0, openSlots - 1));
  document.getElementById("yourRemaining").textContent = dollars(remaining);
  document.getElementById("yourPlayers").textContent = yourCount;
  document.getElementById("yourMaxBid").textContent = dollars(maxBid);
}

function renderTable(){
  const body = document.getElementById("boardBody");
  const q = (document.getElementById("search").value || "").toLowerCase();
  const fPos = document.getElementById("filterPos").value;
  const fTier = document.getElementById("filterTier").value;

  body.innerHTML = "";
  state.players
    .filter(p => !q || p.name.toLowerCase().includes(q))
    .filter(p => !fPos || p.pos === fPos)
    .filter(p => !fTier || String(p.tier) === fTier)
    .sort((a,b) => a.rank - b.rank)
    .forEach((p, idx) => {
      const tr = document.createElement("tr");
      tr.className = "pos-" + (p.pos || "UNK");
      tr.innerHTML = `
        <td>${p.name}</td>
        <td><span class="badge">${p.pos}</span></td>
        <td>${p.rank}</td>
        <td>${p.tier}</td>
        <td class="right mono">${dollars(p.base)} </td>
        <td class="right"><input type="number" min="0" step="1" data-i="${idx}" data-k="actual" value="${p.actual||0}"></td>
        <td>
          <select data-i="${idx}" data-k="myTeam">
            <option value="false" ${p.myTeam ? "" : "selected"}>No</option>
            <option value="true" ${p.myTeam ? "selected" : ""}>Yes</option>
          </select>
        </td>
      `;
      body.appendChild(tr);
    });

  body.querySelectorAll("input,select").forEach(el => el.addEventListener("change", onEdit));
  computeKPIs();
}

function onEdit(e){
  const i = Number(e.target.dataset.i);
  const k = e.target.dataset.k;
  if (k === "actual"){
    const v = Number(e.target.value)||0;
    state.players[i].actual = v;
  } else if (k === "myTeam"){
    state.players[i].myTeam = (e.target.value === "true");
  }
  save();
  computeKPIs();
}

function bindSettings(){
  ["teamsCount","budgetPerTeam","yourTeamName","benchSlots"].forEach(id => {
    const el = document.getElementById(id);
    el.addEventListener("change", () => {
      state.settings.teamsCount = Number(document.getElementById("teamsCount").value)||12;
      state.settings.budgetPerTeam = Number(document.getElementById("budgetPerTeam").value)||200;
      state.settings.yourTeamName = document.getElementById("yourTeamName").value || "You";
      state.settings.benchSlots = Number(document.getElementById("benchSlots").value)||6;
      save(); computeKPIs();
    });
  });

  document.getElementById("search").addEventListener("input", renderTable);
  document.getElementById("filterPos").addEventListener("change", renderTable);
  document.getElementById("filterTier").addEventListener("change", renderTable);
  document.getElementById("clearFilters").addEventListener("click", () => {
    document.getElementById("search").value = "";
    document.getElementById("filterPos").value = "";
    document.getElementById("filterTier").value = "";
    renderTable();
  });
}

function init(){
  const ok = load();
  if (!ok){ state.players = embedded.players; }
  document.getElementById("teamsCount").value = state.settings.teamsCount;
  document.getElementById("budgetPerTeam").value = state.settings.budgetPerTeam;
  document.getElementById("yourTeamName").value = state.settings.yourTeamName;
  document.getElementById("benchSlots").value = state.settings.benchSlots;
  bindSettings();
  renderTable();
}

init();
</script>
</body>
</html>
